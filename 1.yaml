port: 7890
socks-port: 7891
redir-port: 7892
tproxy-port: 7893
mixed-port: 7890
allow-lan: true
bind-address: "*"
mode: rule
log-level: info
ipv6: false
profile:
  store-selected: true
  tracing: false
  store-fake-ip: true
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true
  default-nameserver:
    - 119.29.29.29
  nameserver:
    - https://1.12.12.12/dns-query
  fake-ip-filter:
    - '*.lan'
    - 'localhost.ptlogin2.qq.com'
    - "dns.msftncsi.com"
    - "*.srv.nintendo.net"
    - "*.stun.playstation.net"
    - "xbox.*.microsoft.com"
    - "*.xboxlive.com"
  fallback:
    - 1.1.1.1
    - 8.8.8.8
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
proxy-provider:
  kuromi:
    type: http
    path: ./kuromi.yaml
    url: https://kuromisubs.shop/qn_HwmYRF4UyE_isAfet7?type=clash&protocol=shadowsocks&rule=default	# clash provider è®¢é˜…é“¾æ¥
    interval: 3600
    health-check:
        enable: true
        url: http://www.gstatic.com/generate_204
        interval: 300     
  ğŸ‡­ğŸ‡° Hong Kong:
    type: file
    path: ./kuromi.yaml
    filter: 'é¦™æ¸¯|Hong Kong'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 86400   
  ğŸ‡¸ğŸ‡¬ Singapore :
    type: file
    path: ./kuromi.yaml
    filter: 'Singapore|æ–°åŠ å¡'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 86400
  ğŸ‡¯ğŸ‡µ Japan:
    type: file
    path: ./kuromi.yaml
    filter: 'Japan|æ—¥æœ¬'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 86400
  ğŸ‡ºğŸ‡¸ United States:
    type: file
    path: ./kuromi.yaml
    filter: 'United States|ç¾å›½'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 86400
  ğŸ‡¨ğŸ‡³ Taiwan:
    type: file
    path: ./kuromi.yaml
    filter: 'Taiwan|å°æ¹¾'
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 86400      
proxy-groups:
  - name: "Kuromis"
    type: select
    use:	# å¼•å…¥ proxy-provider ä½¿ç”¨ use å…³é”®å­—
      - kuromi
  - name: Auto
    type: fallback
    use:
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
    url: 'http://cp.cloudflare.com/generate_204'
    interval: 300
  - name: Apple
    type: select
    use:
      - DIRECT
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: BiliBili
    type: select
    use:
      - DIRECT
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: Disney
    type: select
    use:
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: Netflix
    type: select
    use:
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: PayPal
    type: select
    use:
      - DIRECT
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: Steam
    type: select
    use:
      - DIRECT
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: Google
    type: select
    use:
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: Microsoft
    type: select
    use:
      - DIRECT
      - Kuromis
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
  - name: Telegram
    type: select
    use:
      - ğŸ‡­ğŸ‡° Hong Kong
      - ğŸ‡¸ğŸ‡¬ Singapore
      - ğŸ‡¯ğŸ‡µ Japan
      - ğŸ‡ºğŸ‡¸ United States
      - ğŸ‡¨ğŸ‡³ Taiwan
rule-providers:
  Apple:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Classical.yaml"
    interval: 86400
    path: ./ruleset/Apple.yaml
  BiliBili:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    interval: 86400
    path: ./ruleset/BiliBili.yaml
  Disney:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml"
    interval: 86400
    path: ./ruleset/Disney.yaml
  Netflix:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
    interval: 86400
    path: ./ruleset/Netflix.yaml
  PayPal:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PayPal/PayPal.yaml"
    interval: 86400
    path: ./ruleset/PayPal.yaml
  Google:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
    interval: 86400
    path: ./ruleset/Google.yaml
  YouTube:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    interval: 86400
    path: ./ruleset/YouTube.yaml
  Microsoft:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
    interval: 86400
    path: ./ruleset/Microsoft.yaml
  Telegram:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    interval: 86400
    path: ./ruleset/Telegram.yaml
  Steam:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml"
    interval: 86400
    path: ./ruleset/Steam.yaml
  Bahamut:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml"
    interval: 86400
    path: ./ruleset/Bahamut.yaml
  DMM:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/DMM/DMM.yaml"
    interval: 86400
    path: ./ruleset/DMM.yaml
  ChinaMax:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_Classical_No_IPv6.yaml"
    interval: 86400
    path: ./ruleset/ChinaMax.yaml
rules:
  - RULE-SET,Apple,Apple
  - RULE-SET,BiliBili,BiliBili
  - RULE-SET,Disney,Disney
  - RULE-SET,Netflix,Netflix
  - RULE-SET,Steam,Steam
  - RULE-SET,PayPal,PayPal
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Google,Google
  - RULE-SET,YouTube,Google
  - RULE-SET,Bahamut,ğŸ‡¨ğŸ‡³ Taiwan
  - RULE-SET,DMM,ğŸ‡¯ğŸ‡µ Japan
  - RULE-SET,ChinaMax,DIRECT
  - MATCH,Kuromis
